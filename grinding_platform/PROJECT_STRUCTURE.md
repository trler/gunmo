# Grinding Platform - æ»šç£¨å…‰æ•´åŠ å·¥å¹³å°

## ğŸ‰ é¡¹ç›®åˆ›å»ºå®Œæˆï¼

### ğŸ“ é¡¹ç›®ç»“æ„

```
grinding_platform/
â”œâ”€â”€ grinding_platform/          # Djangoä¸»é¡¹ç›®ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py             # é¡¹ç›®é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ urls.py                 # ä¸»URLé…ç½®
â”‚   â”œâ”€â”€ wsgi.py                 # WSGIé…ç½®
â”‚   â””â”€â”€ asgi.py                 # ASGIé…ç½®
â”‚
â”œâ”€â”€ users/                      # ç”¨æˆ·è®¤è¯åº”ç”¨
â”‚   â”œâ”€â”€ models.py               # ç”¨æˆ·æ¨¡å‹ï¼ˆCustomUser, UserProfileï¼‰
â”‚   â”œâ”€â”€ serializers.py          # ç”¨æˆ·åºåˆ—åŒ–å™¨
â”‚   â”œâ”€â”€ views.py                # ç”¨æˆ·ç›¸å…³APIè§†å›¾
â”‚   â”œâ”€â”€ urls.py                 # ç”¨æˆ·è·¯ç”±é…ç½®
â”‚   â””â”€â”€ migrations/             # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚
â”œâ”€â”€ process_data/               # å·¥è‰ºæ•°æ®ç®¡ç†åº”ç”¨
â”‚   â”œâ”€â”€ models.py               # å·¥è‰ºæ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ serializers.py          # å·¥è‰ºæ•°æ®åºåˆ—åŒ–å™¨
â”‚   â”œâ”€â”€ views.py                # å·¥è‰ºæ•°æ®APIè§†å›¾
â”‚   â”œâ”€â”€ urls.py                 # å·¥è‰ºæ•°æ®è·¯ç”±é…ç½®
â”‚   â””â”€â”€ migrations/             # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚
â”œâ”€â”€ equipment/                  # è®¾å¤‡ç®¡ç†åº”ç”¨
â”‚   â”œâ”€â”€ models.py               # è®¾å¤‡ç›¸å…³æ¨¡å‹
â”‚   â”œâ”€â”€ serializers.py          # è®¾å¤‡åºåˆ—åŒ–å™¨
â”‚   â”œâ”€â”€ views.py                # è®¾å¤‡ç®¡ç†APIè§†å›¾
â”‚   â”œâ”€â”€ urls.py                 # è®¾å¤‡è·¯ç”±é…ç½®
â”‚   â””â”€â”€ migrations/             # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚
â”œâ”€â”€ static/                     # é™æ€æ–‡ä»¶ç›®å½•
â”œâ”€â”€ manage.py                   # Djangoç®¡ç†è„šæœ¬
â”œâ”€â”€ debug.log                   # ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶
â””â”€â”€ reset_mysql.md              # MySQLé‡ç½®æŒ‡å—
```

### ğŸ—„ï¸ æ•°æ®åº“è¡¨ç»“æ„

#### ç”¨æˆ·ç›¸å…³è¡¨
- `users_customuser` - è‡ªå®šä¹‰ç”¨æˆ·è¡¨
- `users_userprofile` - ç”¨æˆ·é…ç½®æ–‡ä»¶è¡¨

#### å·¥è‰ºæ•°æ®ç›¸å…³è¡¨
- `process_data_processcategory` - å·¥è‰ºç±»åˆ«è¡¨
- `process_data_processdata` - å·¥è‰ºæ•°æ®è¡¨
- `process_data_processhistory` - å·¥è‰ºå†å²è®°å½•è¡¨

#### è®¾å¤‡ç®¡ç†ç›¸å…³è¡¨
- `equipment_equipmenttype` - è®¾å¤‡ç±»å‹è¡¨
- `equipment_equipment` - è®¾å¤‡ä¿¡æ¯è¡¨
- `equipment_equipmentmaintenance` - è®¾å¤‡ç»´æŠ¤è®°å½•è¡¨
- `equipment_equipmentalert` - è®¾å¤‡è­¦å‘Šè¡¨

### ğŸ”§ ç³»ç»Ÿé…ç½®

#### æ•°æ®åº“é…ç½®
- **æ•°æ®åº“ç±»å‹**: MySQL 8.0
- **æ•°æ®åº“åç§°**: grinding_db
- **ç”¨æˆ·å**: root
- **å­—ç¬¦é›†**: utf8mb4
- **æ’åºè§„åˆ™**: utf8mb4_unicode_ci

#### JWTè®¤è¯é…ç½®
- **è®¿é—®ä»¤ç‰Œæœ‰æ•ˆæœŸ**: 30åˆ†é’Ÿ
- **åˆ·æ–°ä»¤ç‰Œæœ‰æ•ˆæœŸ**: 1å¤©
- **ä»¤ç‰Œè½®æ¢**: å¯ç”¨

#### CORSé…ç½®
- **å…è®¸çš„æº**: 
  - http://localhost:5173
  - http://127.0.0.1:5173
  - http://localhost:3000
  - http://127.0.0.1:3000

### ğŸš€ APIç«¯ç‚¹

#### è®¤è¯ç›¸å…³
- `POST /api/token/` - è·å–JWTä»¤ç‰Œ
- `POST /api/token/refresh/` - åˆ·æ–°JWTä»¤ç‰Œ
- `POST /api/token/verify/` - éªŒè¯JWTä»¤ç‰Œ

#### ç”¨æˆ·ç®¡ç†
- `POST /api/users/register/` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/users/login/` - ç”¨æˆ·ç™»å½•
- `GET/PUT /api/users/profile/` - ç”¨æˆ·é…ç½®æ–‡ä»¶
- `POST /api/users/logout/` - ç”¨æˆ·ç™»å‡º

#### å·¥è‰ºæ•°æ®ç®¡ç†
- `GET /api/process-data/` - è·å–å·¥è‰ºæ•°æ®åˆ—è¡¨
- `POST /api/process-data/create/` - åˆ›å»ºå·¥è‰ºæ•°æ®
- `GET /api/process-data/<id>/` - è·å–å·¥è‰ºæ•°æ®è¯¦æƒ…
- `PUT /api/process-data/<id>/update/` - æ›´æ–°å·¥è‰ºæ•°æ®
- `DELETE /api/process-data/<id>/delete/` - åˆ é™¤å·¥è‰ºæ•°æ®

#### è®¾å¤‡ç®¡ç†
- `GET /api/equipment/` - è·å–è®¾å¤‡åˆ—è¡¨
- `POST /api/equipment/create/` - åˆ›å»ºè®¾å¤‡
- `GET /api/equipment/<id>/` - è·å–è®¾å¤‡è¯¦æƒ…
- `PUT /api/equipment/<id>/update/` - æ›´æ–°è®¾å¤‡ä¿¡æ¯
- `DELETE /api/equipment/<id>/delete/` - åˆ é™¤è®¾å¤‡
- `PATCH /api/equipment/<id>/status/` - æ›´æ–°è®¾å¤‡çŠ¶æ€

### ğŸ”‘ ç®¡ç†å‘˜è´¦æˆ·
- **ç”¨æˆ·å**: admin
- **é‚®ç®±**: admin@example.com
- **å¯†ç **: [æ‚¨åˆ›å»ºæ—¶è®¾ç½®çš„å¯†ç ]

### ğŸŒ è®¿é—®åœ°å€
- **Djangoå¼€å‘æœåŠ¡å™¨**: http://localhost:8000
- **Djangoç®¡ç†ç•Œé¢**: http://localhost:8000/admin/
- **APIæ ¹åœ°å€**: http://localhost:8000/api/

### ğŸ“ æ¥ä¸‹æ¥çš„æ­¥éª¤

1. **å¯åŠ¨æœåŠ¡å™¨**: `python manage.py runserver 8000`
2. **è®¿é—®ç®¡ç†ç•Œé¢**: http://localhost:8000/admin/
3. **æµ‹è¯•API**: ä½¿ç”¨Postmanæˆ–curlæµ‹è¯•å„ä¸ªAPIç«¯ç‚¹
4. **å¼€å‘å‰ç«¯**: åŸºäºVue.jsåˆ›å»ºå‰ç«¯åº”ç”¨
5. **ç”Ÿäº§éƒ¨ç½²**: é…ç½®nginxã€gunicornç­‰ç”Ÿäº§ç¯å¢ƒ

### ğŸ› ï¸ å¼€å‘å»ºè®®

1. **æ·»åŠ æ¨¡å‹éªŒè¯**: åœ¨models.pyä¸­æ·»åŠ æ›´å¤šçš„å­—æ®µéªŒè¯
2. **å®Œå–„æƒé™æ§åˆ¶**: åŸºäºç”¨æˆ·è§’è‰²æ·»åŠ æƒé™ç®¡ç†
3. **æ·»åŠ å•å…ƒæµ‹è¯•**: ä¸ºæ¯ä¸ªåº”ç”¨ç¼–å†™æµ‹è¯•ç”¨ä¾‹
4. **APIæ–‡æ¡£**: ä½¿ç”¨django-rest-swaggerç”ŸæˆAPIæ–‡æ¡£
5. **æ—¥å¿—ç›‘æ§**: å®Œå–„loggingé…ç½®ï¼Œæ·»åŠ é”™è¯¯ç›‘æ§
6. **ç¼“å­˜ä¼˜åŒ–**: æ·»åŠ Redisç¼“å­˜æå‡æ€§èƒ½

### ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **æ›´æ”¹SECRET_KEY**: ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨å®‰å…¨çš„SECRET_KEY
2. **è®¾ç½®DEBUG=False**: ç”Ÿäº§ç¯å¢ƒå…³é—­è°ƒè¯•æ¨¡å¼
3. **é…ç½®ALLOWED_HOSTS**: é™åˆ¶å…è®¸çš„ä¸»æœº
4. **ä½¿ç”¨HTTPS**: ç”Ÿäº§ç¯å¢ƒå¯ç”¨SSL/TLS
5. **æ•°æ®åº“å®‰å…¨**: ä½¿ç”¨ä¸“ç”¨æ•°æ®åº“ç”¨æˆ·ï¼Œé™åˆ¶æƒé™

## âœ… é¡¹ç›®åˆ›å»ºæˆåŠŸï¼

æ‚¨çš„Djangoé¡¹ç›®å·²ç»æˆåŠŸåˆ›å»ºå¹¶é…ç½®å®Œæˆï¼Œæ‰€æœ‰æ•°æ®åº“è¡¨å·²ç»åˆ›å»ºï¼Œå¯ä»¥å¼€å§‹å¼€å‘äº†ï¼ 