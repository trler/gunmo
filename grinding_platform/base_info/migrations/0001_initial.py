# Generated by Django 5.2.1 on 2025-06-06 03:55

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Company',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=50, unique=True, verbose_name='企业编号')),
                ('name', models.CharField(max_length=200, verbose_name='企业名称')),
                ('short_name', models.CharField(blank=True, max_length=100, verbose_name='企业简称')),
                ('company_type', models.CharField(choices=[('manufacturer', '制造商'), ('supplier', '供应商'), ('research', '科研机构'), ('service', '服务商'), ('other', '其他')], max_length=20, verbose_name='企业类型')),
                ('unified_social_code', models.CharField(max_length=50, unique=True, verbose_name='统一社会信用代码')),
                ('legal_representative', models.CharField(max_length=50, verbose_name='法定代表人')),
                ('registered_capital', models.DecimalField(decimal_places=2, max_digits=15, verbose_name='注册资本(万元)')),
                ('establishment_date', models.DateField(verbose_name='成立日期')),
                ('scale', models.CharField(choices=[('large', '大型企业'), ('medium', '中型企业'), ('small', '小型企业'), ('micro', '微型企业')], max_length=20, verbose_name='企业规模')),
                ('address', models.TextField(verbose_name='企业地址')),
                ('postal_code', models.CharField(blank=True, max_length=10, verbose_name='邮政编码')),
                ('phone', models.CharField(max_length=20, verbose_name='联系电话')),
                ('fax', models.CharField(blank=True, max_length=20, verbose_name='传真号码')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='企业邮箱')),
                ('website', models.URLField(blank=True, verbose_name='企业网站')),
                ('business_scope', models.TextField(verbose_name='经营范围')),
                ('main_products', models.TextField(verbose_name='主要产品')),
                ('industry_category', models.CharField(max_length=100, verbose_name='行业类别')),
                ('certifications', models.TextField(blank=True, verbose_name='企业资质')),
                ('quality_system', models.CharField(blank=True, max_length=100, verbose_name='质量管理体系')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('remarks', models.TextField(blank=True, verbose_name='备注信息')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_companies', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
            ],
            options={
                'verbose_name': '企业信息',
                'verbose_name_plural': '企业信息',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(max_length=50, unique=True, verbose_name='部门编号')),
                ('name', models.CharField(max_length=100, verbose_name='部门名称')),
                ('department_type', models.CharField(choices=[('production', '生产部门'), ('technology', '技术部门'), ('quality', '质量部门'), ('management', '管理部门'), ('sales', '销售部门'), ('finance', '财务部门'), ('hr', '人力资源'), ('logistics', '物流部门'), ('other', '其他')], max_length=20, verbose_name='部门类型')),
                ('level', models.PositiveIntegerField(default=1, verbose_name='部门层级')),
                ('description', models.TextField(blank=True, verbose_name='部门描述')),
                ('responsibilities', models.TextField(blank=True, verbose_name='主要职责')),
                ('office_location', models.CharField(blank=True, max_length=200, verbose_name='办公地点')),
                ('extension', models.CharField(blank=True, max_length=20, verbose_name='分机号码')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='部门邮箱')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('establishment_date', models.DateField(blank=True, null=True, verbose_name='成立日期')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base_info.company', verbose_name='所属企业')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_departments', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('manager', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='managed_departments', to=settings.AUTH_USER_MODEL, verbose_name='部门负责人')),
                ('parent_department', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='base_info.department', verbose_name='上级部门')),
            ],
            options={
                'verbose_name': '部门信息',
                'verbose_name_plural': '部门信息',
                'ordering': ['company', 'level', 'code'],
            },
        ),
        migrations.CreateModel(
            name='Personnel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('employee_id', models.CharField(max_length=50, unique=True, verbose_name='员工编号')),
                ('name', models.CharField(max_length=50, verbose_name='姓名')),
                ('gender', models.CharField(choices=[('M', '男'), ('F', '女')], max_length=1, verbose_name='性别')),
                ('birth_date', models.DateField(verbose_name='出生日期')),
                ('id_card', models.CharField(max_length=20, unique=True, verbose_name='身份证号')),
                ('position', models.CharField(max_length=100, verbose_name='职位')),
                ('job_level', models.CharField(blank=True, max_length=50, verbose_name='职级')),
                ('employment_type', models.CharField(choices=[('fulltime', '全职'), ('parttime', '兼职'), ('contract', '合同工'), ('intern', '实习生'), ('consultant', '顾问')], max_length=20, verbose_name='用工类型')),
                ('hire_date', models.DateField(verbose_name='入职日期')),
                ('contract_start', models.DateField(verbose_name='合同开始日期')),
                ('contract_end', models.DateField(blank=True, null=True, verbose_name='合同结束日期')),
                ('probation_end', models.DateField(blank=True, null=True, verbose_name='试用期结束日期')),
                ('education', models.CharField(choices=[('primary', '小学'), ('junior', '初中'), ('senior', '高中'), ('college', '大专'), ('bachelor', '本科'), ('master', '硕士'), ('doctor', '博士')], max_length=20, verbose_name='学历')),
                ('major', models.CharField(blank=True, max_length=100, verbose_name='专业')),
                ('graduate_school', models.CharField(blank=True, max_length=200, verbose_name='毕业院校')),
                ('graduation_date', models.DateField(blank=True, null=True, verbose_name='毕业时间')),
                ('phone', models.CharField(max_length=20, verbose_name='手机号码')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='邮箱地址')),
                ('address', models.TextField(blank=True, verbose_name='家庭地址')),
                ('emergency_contact', models.CharField(blank=True, max_length=50, verbose_name='紧急联系人')),
                ('emergency_phone', models.CharField(blank=True, max_length=20, verbose_name='紧急联系电话')),
                ('skills', models.TextField(blank=True, verbose_name='技能特长')),
                ('certifications', models.TextField(blank=True, verbose_name='职业资格证书')),
                ('work_experience', models.TextField(blank=True, verbose_name='工作经历')),
                ('status', models.CharField(choices=[('active', '在职'), ('leave', '请假'), ('resigned', '离职'), ('retired', '退休')], default='active', max_length=20, verbose_name='状态')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base_info.company', verbose_name='所属企业')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_personnel', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
                ('department', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='base_info.department', verbose_name='所属部门')),
                ('user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='关联用户')),
            ],
            options={
                'verbose_name': '人员信息',
                'verbose_name_plural': '人员信息',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Standard',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('standard_code', models.CharField(max_length=100, unique=True, verbose_name='标准编号')),
                ('title', models.CharField(max_length=500, verbose_name='标准名称')),
                ('english_title', models.CharField(blank=True, max_length=500, verbose_name='英文名称')),
                ('standard_type', models.CharField(choices=[('national', '国家标准'), ('industry', '行业标准'), ('local', '地方标准'), ('enterprise', '企业标准'), ('international', '国际标准'), ('group', '团体标准')], max_length=20, verbose_name='标准类型')),
                ('publisher', models.CharField(max_length=200, verbose_name='发布机构')),
                ('publish_date', models.DateField(verbose_name='发布日期')),
                ('implement_date', models.DateField(verbose_name='实施日期')),
                ('revision_date', models.DateField(blank=True, null=True, verbose_name='修订日期')),
                ('scope', models.TextField(verbose_name='适用范围')),
                ('abstract', models.TextField(verbose_name='标准摘要')),
                ('keywords', models.TextField(blank=True, verbose_name='关键词')),
                ('classification', models.CharField(max_length=100, verbose_name='标准分类')),
                ('replaced_standards', models.TextField(blank=True, verbose_name='替代标准')),
                ('referenced_standards', models.TextField(blank=True, verbose_name='引用标准')),
                ('related_standards', models.TextField(blank=True, verbose_name='相关标准')),
                ('file_url', models.URLField(blank=True, verbose_name='文档链接')),
                ('page_count', models.PositiveIntegerField(blank=True, null=True, verbose_name='页数')),
                ('language', models.CharField(default='中文', max_length=50, verbose_name='语言')),
                ('status', models.CharField(choices=[('draft', '草案'), ('current', '现行'), ('abolished', '废止'), ('replaced', '被替代'), ('revised', '修订中')], default='current', max_length=20, verbose_name='状态')),
                ('is_mandatory', models.BooleanField(default=False, verbose_name='是否强制性标准')),
                ('is_active', models.BooleanField(default=True, verbose_name='是否启用')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='更新时间')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_standards', to=settings.AUTH_USER_MODEL, verbose_name='创建人')),
            ],
            options={
                'verbose_name': '标准规范',
                'verbose_name_plural': '标准规范',
                'ordering': ['-publish_date'],
            },
        ),
    ]
